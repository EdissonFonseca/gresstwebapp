---
description: Auto-update documentation when creating or changing features; README per feature, ADR, docs index
globs: src/features/**/*
alwaysApply: false
---

# Documentation and new features

## When you add or change a feature

1. **To create a new feature:** Prefer **`npm run feature:new <name> [route]`** so the feature gets the full template (structure, tests, docs, WebForms migration checklist). Then add the route in core/routing and run `npm run docs:generate`.
2. **After creating a new feature** (new folder under `src/features/<name>` with `components/`, `hooks/`, `services/`, `types/`, `tests/`):
   - Run **`npm run docs:generate`** to create or update the feature README and refresh `docs/README.md`.
   - Ensure the feature is registered in `@core/routing` (ROUTES and route in AppRouter) so the generator can link the route.

2. **Feature README:** The script generates `src/features/<name>/README.md` with:
   - Feature title and route (from `core/routing/routes.ts`)
   - Structure table (files per folder)
   - Public API and contract reminder

3. **Docs index:** `docs/README.md` is auto-generated and includes:
   - Link to architecture
   - Link to ADR index and template
   - Links to other docs (API, Testing, CI/CD)
   - List of features with links to each feature README

## Technical decisions (ADR)

- New decisions that affect the project go in **`docs/adr/NNNN-short-slug.md`** (next number, e.g. `0003-new-decision`).
- Use the format in **`docs/adr/0000-template.md`**: Title, Status, Context, Decision, Consequences.
- Update **`docs/adr/README.md`** index table with the new ADR.

## Summary

- One README per feature → generated by `npm run docs:generate`.
- Architecture → `docs/ARCHITECTURE.md`.
- Decisions → `docs/adr/`.
- After adding a feature, run `npm run docs:generate` so the feature appears in the docs index and has a README.
